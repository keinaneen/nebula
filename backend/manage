#!/bin/bash

if [ $# -ne 1 ]; then
  echo "Error: a single argument is required"
  exit 1
fi

if [ $1 = "reload" ]; then
  echo ""
  echo "Reloading the server..."
  echo ""
    
  # find gunicorn process
  pid=$(ps aux | grep 'gunicorn' | awk '{print $2}')
  # send HUP 
  kill -HUP $pid 2> /dev/null

else
  echo ""
  echo "Error: invalid argument '$1'. Expected 'start' or 'reload'"
  echo ""
  exit 1
fi



